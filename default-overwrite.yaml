# yq ea -iI 4 'select(fi==0).bridge.double_puppet_server_map = select(fi==1).bridge.double_puppet_server_map | select(fi==0)' config.yaml ../default_settings/default-overwrite.yaml
# yq ea -iI 4 'select(fi==0).bridge.login_shared_secret_map = select(fi==1).bridge.login_shared_secret_map | select(fi==0)' config.yaml ../default_settings/default-overwrite.yaml
# yq ea -iI 4 'select(fi==0).bridge.permissions = select(fi==1).bridge.permissions | select(fi==0)' config.yaml ../default_settings/default-overwrite.yaml

# Bridge config
bridge:
    # Servers to always allow double puppeting from
    double_puppet_server_map:
        juniiimoh.pp.ua: http://localhost:8008
    # Shared secrets for https://github.com/devture/matrix-synapse-shared-secret-auth
    #
    # If set, double puppeting will be enabled automatically for local users
    # instead of users having to find an access token and run `login-matrix`
    # manually.
    login_shared_secret_map:
        juniiimoh.pp.ua: cifu8aFook0peiwiizaimou4iek3YooCoXeepheiH5Eo4Ohahroo8aivu0mohs8i
    # Permissions for using the bridge.
    # Permitted values:
    #    relay - Talk through the relaybot (if enabled), no access otherwise
    #     user - Access to use the bridge to chat with a Discord account.
    #    admin - User level and some additional administration tools
    # Permitted keys:
    #        * - All Matrix users
    #   domain - All users on that homeserver
    #     mxid - Specific user
    permissions:
        "@juniiimoh:juniiimoh.pp.ua": admin
        "@zhunynho:bolha.chat": admin
